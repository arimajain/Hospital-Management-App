{% extends "base.html" %}
{% block content %}
<h2>Slots (next 7 days) for Dr. {{ doctor.full_name }}</h2>
<div class="row">
  {% for d in days %}
    <div class="col-md-3 mb-3"><div class="card h-100"><div class="card-body"><h5 class="card-title">{{ d }}</h5>
      <ul class="list-group list-group-flush">
        {% for s in slots_by_date.get(d, []) %}
          <li class="list-group-item d-flex justify-content-between align-items-center">{{ s.start_time }} - {{ s.end_time }} <div>{% if s.is_booked %}<span class="badge bg-secondary">Booked</span>{% else %}<a class="btn btn-sm btn-success" href="{{ url_for('patient_book_slot', slot_id=s.id) }}">Book</a>{% endif %}</div></li>
        {% else %}
          <li class="list-group-item text-muted">No slots</li>
        {% endfor %}
      </ul></div></div></div>
  {% endfor %}
</div>
{% endblock %}
